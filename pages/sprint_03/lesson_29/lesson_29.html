<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprint 3. Lesson 29</title>
    <link rel="stylesheet" type="text/css" href="../../../css/pages_style.css">
    <link rel="stylesheet" href="../../../bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/lesson_css.css">
    <script type="text/javascript" src="../../../js/menu.js"></script>
</head>
<body>
    <div id="lesson_menu_bootsrap"></div>
    <div class="header">
        <div class="header-inner">
            <h1 id="l29_p0">Lesson 29: JS. Intro.</h1>
        </div>
    </div>
    <a href="#l29_p0" class="move_up_arrow"></a>
    <div class="container">
        <div class="inner_content">
            <h4>Содержание:</h4>
            <ul>
                <li><a href="#l29_p1">Что такое JavaScript?</a></li>
                <li><a href="#l29_p2">Что может JavaScript в браузере?</a></li>
                <li><a href="#l29_p3">Чего НЕ может JavaScript в браузере?</a></li>
                <li><a href="#l29_p4">Что делает JavaScript особенным?</a></li>
                <li><a href="#l29_p5">Языки «над» JavaScript</a></li>
                <li><a href="#l29_p6">Итого</a></li>
                <li><a href="#l29_p7">Практическое применение</a></li>
                <ul>
                    <li><a href="#l29_p7_1">Тег «script»</a></li>
                    <li><a href="#l29_p7_2">Современная разметка</a></li>
                    <li><a href="#l29_p7_3">Внешние скрипты</a></li>
                    <li><a href="#l29_p7_4">Инструкции</a></li>
                    <li><a href="#l29_p7_5">Переменные</a></li>
                    <li><a href="#l29_p7_6">var вместо let</a></li>
                    <li><a href="#l29_p7_7">Аналогия из жизни</a></li>
                    <li><a href="#l29_p7_8">Имена переменных</a></li>
                </ul>
            </ul>
            <hr>
            <h3 id="l29_p1">Что такое JavaScript?</h3>
            <p>
                Изначально JavaScript был создан, чтобы «сделать веб-страницы живыми». <br>
                Программы на этом языке называются скриптами. Они могут встраиваться в HTML и выполняться автоматически при загрузке веб-страницы. <br>
                Скрипты распространяются и выполняются, как простой текст. Им не нужна специальная подготовка или компиляция для запуска. <br>
                Это отличает JavaScript от другого языка – Java.
            </p>
            <p>
                <b>Почему JavaScript?</b> <br>
                Когда JavaScript создавался, у него было другое имя – «LiveScript». Однако, язык Java был очень популярен в то время, и было решено, 
                что позиционирование JavaScript как «младшего брата» Java будет полезно. <br>
                Со временем JavaScript стал полностью независимым языком со своей собственной спецификацией, называющейся ECMAScript, и сейчас не имеет 
                никакого отношения к Java. <br>
            </p>
            <p>
                Сегодня JavaScript может выполняться не только в браузере, но и на сервере или на любом другом устройстве, которое имеет специальную 
                программу, называющуюся «движком» JavaScript. <br>
                У браузера есть собственный движок, который иногда называют «виртуальная машина JavaScript».
                <ul>Разные движки имеют разные «кодовые имена». Например:
                    <li>V8 – в Chrome и Opera.</li>
                    <li>SpiderMonkey – в Firefox.</li>
                    <li>
                        …Ещё есть «Trident» и «Chakra» для разных версий IE, «ChakraCore» для Microsoft Edge, «Nitro» и «SquirrelFish» для 
                        Safari и т.д.
                    </li>
                </ul>
            </p>
            <p>
                Эти названия полезно знать, так как они часто используются в статьях для разработчиков. Мы тоже будем их использовать. 
                Например, если «функциональность X поддерживается V8», тогда «Х», скорее всего, работает в Chrome и Opera.
            </p>
            <p>
                <b>Как работают движки?</b> <br>
                Движки сложны. Но основы понять легко. <br>
                Движок (встроенный, если это браузер) читает («парсит») текст скрипта. <br>
                Затем он преобразует («компилирует») скрипт в машинный язык. <br>
                После этого машинный код запускается и работает достаточно быстро. <br>
                Движок применяет оптимизации на каждом этапе. Он даже просматривает скомпилированный скрипт во время его работы, анализируя 
                проходящие через него данные, и применяет оптимизации к машинному коду, полагаясь на полученные знания. В результате скрипты 
                работают очень быстро.
            </p>
            <hr>
            <h3 id="l29_p2">Что может JavaScript в браузере?</h3>
            <p>
                Современный JavaScript – это «безопасный» язык программирования. Он не предоставляет низкоуровневый доступ к памяти или процессору, 
                потому что изначально был создан для браузеров, не требующих этого. <br>
                Возможности JavaScript сильно зависят от окружения, в котором он работает. Например, Node.JS поддерживает функции чтения/записи 
                произвольных файлов, выполнения сетевых запросов и т.д. <br>
                В браузере для JavaScript доступно всё, что связано с манипулированием веб-страницами, взаимодействием с пользователем и веб-сервером. <br>
                Например, в браузере JavaScript может: <br>
                <ul>
                    <li>Добавлять новый HTML-код на страницу, изменять существующее содержимое, модифицировать стили.</li>
                    <li>Реагировать на действия пользователя, щелчки мыши, перемещения указателя, нажатия клавиш.</li>
                    <li>Отправлять сетевые запросы на удалённые сервера, скачивать и загружать файлы (технологии AJAX и COMET).</li>
                    <li>Получать и устанавливать куки, задавать вопросы посетителю, показывать сообщения.</li>
                    <li>Запоминать данные на стороне клиента («local storage»).</li>
                </ul>
            </p>
            <hr>
            <h3 id="l29_p3">Чего НЕ может JavaScript в браузере?</h3>
            <p>
                Возможности JavaScript в браузере ограничены ради безопасности пользователя. Цель заключается в предотвращении доступа 
                недобросовестной веб-страницы к личной информации или нанесения ущерба данным пользователя. <br>
                <b>Примеры таких ограничений включают в себя:</b>
            </p>
            <ul>
                <li>
                    JavaScript на веб-странице не может читать/записывать произвольные файлы на жёстком диске, копировать их или запускать программы. 
                    Он не имеет прямого доступа к системным функциям ОС.
                    <hr>
                    Современные браузеры позволяют ему работать с файлами, но с ограниченным доступом, и предоставляют его, только если пользователь 
                    выполняет определённые действия, такие как «перетаскивание» файла в окно браузера или его выбор с помощью тега 
                    <span class="code">&lt;input></span>.
                    <hr>
                    Существуют способы взаимодействия с камерой/микрофоном и другими устройствами, но они требуют явного разрешения пользователя. 
                    Таким образом, страница с поддержкой JavaScript не может незаметно включить веб-камеру, наблюдать за происходящим и отправлять 
                    информацию в ФСБ.
                    <hr>
                </li>
                <li>
                    Различные окна/вкладки не знают друг о друге. Иногда одно окно, используя JavaScript, открывает другое окно. Но даже в этом 
                    случае JavaScript с одной страницы не имеет доступа к другой, если они пришли с разных сайтов (с другого домена, протокола 
                    или порта).
                    <hr>
                    Это называется «Политика одинакового источника» (Same Origin Policy). Чтобы обойти это ограничение, обе страницы должны 
                    согласиться с этим и содержать JavaScript-код, который специальным образом обменивается данными.
                    <hr>
                    Это ограничение необходимо, опять же, для безопасности пользователя. Страница <span class="code">https://anysite.com</span>, 
                    которую открыл пользователь, не должна иметь доступ к другой вкладке браузера с URL <span class="code">https://gmail.com</span> 
                    и воровать информацию оттуда.
                    <hr>
                </li>
                <li>
                    JavaScript может легко взаимодействовать с сервером, с которого пришла текущая страница. Но его способность получать данные 
                    с других сайтов/доменов ограничена. Хотя это возможно в принципе, для чего требуется явное согласие (выраженное в заголовках 
                    HTTP) с удалённой стороной. Опять же, это ограничение безопасности.
                </li>
            </ul>
            <img src="img/l29_p3_img01.png" class="img-fluid rounded mx-auto d-block" alt="js access">
            <hr>
            <h3 id="l29_p4">Что делает JavaScript особенным?</h3>
            <p>
                Как минимум, три сильные стороны JavaScript:
                <ul>
                    <li>Полная интеграция с HTML/CSS.</li>
                    <li>Простые вещи делаются просто.</li>
                    <li>Поддерживается всеми основными браузерами и включён по умолчанию.</li>
                </ul>
                JavaScript – это единственная браузерная технология, сочетающая в себе все эти три вещи. <br>
                Вот что делает JavaScript особенным. Вот почему это самый распространённый инструмент для создания интерфейсов в браузере. <br>
                Хотя, конечно, JavaScript позволяет делать приложения не только в браузерах, но и на сервере, на мобильных устройствах и т.п.
            </p>
            <hr>
            <h3 id="l29_p5">Языки «над» JavaScript</h3>
            <p>
                Синтаксис JavaScript подходит не под все нужды. Разные люди хотят иметь разные возможности. Это естественно, потому что проекты 
                разные и требования к ним тоже разные. Так, в последнее время появилось много новых языков, которые транспилируются (конвертируются) 
                в JavaScript, прежде чем запустятся в браузере.
            </p>
            <p>
                Современные инструменты делают транспиляцию очень быстрой и прозрачной, фактически позволяя разработчикам писать код на другом 
                языке, автоматически преобразуя его в JavaScript «под капотом».
            </p>
            <p>
                Примеры таких языков:
                <ul>
                    <li>
                        CoffeeScript добавляет «синтаксический сахар» для JavaScript. Он вводит более короткий синтаксис, который позволяет 
                        писать чистый и лаконичный код. Обычно такое нравится Ruby-программистам.
                    </li>
                    <li>
                        TypeScript концентрируется на добавлении «строгой типизации» для упрощения разработки и поддержки больших и сложных систем. 
                        Разработан Microsoft.
                    </li>
                    <li>
                        Flow тоже добавляет типизацию, но иначе. Разработан Facebook.
                    </li>
                    <li>
                        Dart стоит особняком, потому что имеет собственный движок, работающий вне браузера (например, в мобильных приложениях). 
                        Первоначально был предложен Google, как замена JavaScript, но на данный момент необходима его транспиляция для запуска 
                        так же, как для вышеперечисленных языков.
                    </li>
                    <li>
                        Brython транспилирует Python в JavaScript, что позволяет писать приложения на чистом Python без JavaScript.
                    </li>
                </ul>
                Есть и другие. Но даже если мы используем один из этих языков, мы должны знать JavaScript, чтобы действительно понимать, что мы делаем.
            </p>
            <hr>
            <h3 id="l29_p6">Итого</h3>
            <p>
                <ul>
                    <li>
                        JavaScript изначально создавался только для браузера, но сейчас используется на многих других платформах.
                    </li>
                    <li>
                        Сегодня JavaScript занимает уникальную позицию в качестве самого распространённого языка для браузера, 
                        обладающего полной интеграцией с HTML/CSS.
                    </li>
                    <li>
                        Многие языки могут быть «транспилированы» в JavaScript для предоставления дополнительных функций. 
                        Рекомендуется хотя бы кратко рассмотреть их после освоения JavaScript.
                    </li>
                </ul>
            </p>
            <hr>
            <h3 id="l29_p7">Практическое применение</h3>
            <p>
                Итак, сначала давайте посмотрим, как выполнить скрипт на странице. 
            </p>
            <h3 id="l29_p7_1">Тег «script»</h3>
            <p>
                Программы на JavaScript могут быть вставлены в любое место HTML-документа с помощью тега <span class="code">&lt;script></span>.
            </p>
            <pre class="code">

                &lt;!DOCTYPE HTML>
                &lt;html>
                &lt;body>
                    &lt;p>Перед скриптом...&lt;/p>
                    &lt;script>
                        alert( 'Привет, мир!' );
                    &lt;/script>
                    &lt;p>...После скрипта.&lt;/p>
                &lt;/body>
                &lt;/html>
            </pre>
            <hr>
            <h3 id="l29_p7_2">Современная разметка</h3>
            <p>
                Тег &lt;script> имеет несколько атрибутов, которые редко используются, но всё ещё могут встретиться в старом коде: <br><br>
                <b>Атрибут type: &lt;script type=…>&lt;/script></b> <br>
                Старый стандарт HTML, HTML4, требовал наличия этого атрибута в теге &lt;script>. Обычно он имел значение 
                <span class="code">type="text/javascript"</span>. На текущий момент этого больше не требуется. Более того, в современном стандарте 
                HTML смысл этого атрибута полностью изменился. Теперь он может использоваться для JavaScript-модулей. <br><br>
                <b>Атрибут language: &lt;script language=…></b> <br>
                Этот атрибут должен был задавать язык, на котором написан скрипт. Но так как JavaScript является языком по умолчанию, в этом 
                атрибуте уже нет необходимости.
            </p>
            <p>
                <b>Обёртывание скрипта в HTML-комментарии.</b> <br>
                В очень древних книгах и руководствах вы сможете найти комментарии внутри тега &lt;script>, например, такие:
                <pre class="code">

                    &lt;script type="text/javascript">&lt;!--
                        ...
                    //-->&lt;/script>                    
                </pre>
                Этот комментарий скрывал код JavaScript в старых браузерах, которые не знали, как обрабатывать тег <span class="code">&lt;script></span>. 
                Поскольку все браузеры, выпущенные за последние 15 лет, не содержат данной проблемы, такие комментарии уже не нужны. Если они есть, 
                то это признак, что перед нами очень древний код.
            </p>
            <hr>
            <h3 id="l29_p7_3">Внешние скрипты</h3>
            <p>
                Если у вас много JavaScript-кода, вы можете поместить его в отдельный файл. <br>
                Файл скрипта можно подключить к HTML с помощью атрибута src:
                <pre class="code">

                    &lt;script src="/path/to/script.js">&lt;/script>
                </pre>
                Здесь <span class="code">/path/to/script.js</span> – это абсолютный путь до скрипта от корня сайта. 
                Также можно указать относительный путь от текущей страницы. Например, <span class="code">src="script.js"</span> или 
                <span class="code">src="./script.js"</span> будет означать, что файл <span class="code">"script.js"</span> находится в текущей папке.
            </p>
            <p>
                Можно указать и полный URL-адрес. Например:
                <pre class="code">
                    
                    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js">&lt;/script>
                </pre>
            </p>
            <p>
                Для подключения нескольких скриптов используйте несколько тегов:
                <pre class="code">

                    &lt;script src="/js/script1.js">&lt;/script>
                    &lt;script src="/js/script2.js">&lt;/script>
                    …
                </pre>
            </p>
            <p class="danger">
                Если атрибут <b>src</b> установлен, содержимое тега <b>script</b> будет игнорироваться.
            </p>
            <pre class="code">

                &lt;script src="file.js">
                    alert(1); // содержимое игнорируется, так как есть атрибут src
                &lt;/script>
            </pre>
            <hr>
            <h3 id="l29_p7_4">Инструкции</h3>
            <p>
                Инструкции – это синтаксические конструкции и команды, которые выполняют действия.
            </p>
            <ol>
                <li>
                    Сообщение - <span class="code">alert('Привет, мир!');</span>.
                </li>
                <li>
                    Окончание инструкции - ;.
                </li>
                <li>
                    Сообщение в консоль - <span class="code">console.log('Привет, мир!');</span>.
                </li>
                <li>
                    Коментарии
                    <pre class="code">

                        // Этот однострочный комментарий
                        /*
                            Это многострочный комментарий
                        */
                    </pre>
                </li>
                <li>
                    Присвоение - <span class="code"> = </span>.
                </li>
            </ol>
            <hr>
            <h3 id="l29_p7_5">Переменные</h3>
            <p>
                Переменная – это «именованное хранилище» для данных. Мы можем использовать переменные для хранения товаров, посетителей и других 
                данных.
            </p>
            <p>
                Для создания переменной в JavaScript используйте ключевое слово <span class="code">let</span>. <br>
                Приведённая ниже инструкция создаёт (другими словами: объявляет или определяет) переменную с именем «message»:
                <pre class="code">

                    let message;
                </pre>
                Теперь можно поместить в неё данные, используя оператор присваивания =:
                <pre class="code">

                    let message;
                    message = 'Hello'; // сохранить строку
                </pre>
                Строка сохраняется в области памяти, связанной с переменной. Мы можем получить к ней доступ, используя имя переменной:
                <pre class="code">

                    let message;
                    message = 'Hello!';
                    alert(message); // показывает содержимое переменной
                </pre>
                Для краткости можно совместить объявление переменной и запись данных в одну строку:
                <pre class="code">
                    
                    let message = 'Hello!'; // определяем переменную и присваиваем ей значение
                    alert(message); // Hello!
                </pre>
                Мы также можем объявить несколько переменных в одной строке:
                <pre class="code">
                    
                    let user = 'John', age = 25, message = 'Hello';
                </pre>
                Такой способ может показаться короче, но мы не рекомендуем его. Для лучшей читаемости объявляйте каждую переменную на 
                новой строке. Многострочный вариант немного длиннее, но легче для чтения:
                <pre class="code">

                    let user = 'John';
                    let age = 25;
                    let message = 'Hello';
                </pre>
                Некоторые люди также определяют несколько переменных в таком вот многострочном стиле:
                <pre class="code">

                    let user = 'John',
                      age = 25,
                      message = 'Hello';
                </pre>
                …Или даже с запятой в начале строки:
                <pre class="code">

                    let user = 'John',
                        age = 25,
                        message = 'Hello';
                </pre>
            </p>
            <hr>
            <h3 id="l29_p7_6">var вместо let</h3>
            <p>
                В старых скриптах вы также можете найти другое ключевое слово: var вместо let:
                <pre class="code">

                    var message = 'Hello';
                </pre>
                Ключевое слово var – почти то же самое, что и let. Оно объявляет переменную, но немного по-другому, «устаревшим» способом. <br>
                Есть тонкие различия между let и var, но они пока не имеют для нас значения.
            </p>
            <hr>
            <h3 id="l29_p7_7">Аналогия из жизни</h3>
            <p>
                Мы легко поймём концепцию «переменной», если представим её в виде «коробки» для данных с уникальным названием на ней. <br>
                Например, переменную message можно представить как коробку с названием "message" и значением "Hello!" внутри:
                <pre class="code">

                    var message = 'Hello';
                </pre>
                <img src="img/l29_p7_img01.png" class="img-fluid rounded mx-auto d-block" alt="to box">
                Мы можем положить любое значение в коробку. <br>
                Мы также можем изменить его столько раз, сколько захотим:
                <pre class="code">
                    let message;
                    message = 'Hello!';
                    message = 'World!'; // значение изменено
                    alert(message);
                </pre>
                При изменении значения старые данные удаляются из переменной:
                <img src="img/l29_p7_img02.png" class="img-fluid rounded mx-auto d-block" alt="to box">
            </p>
            <hr>
            <h3 id="l29_p7_8">Имена переменных</h3>
            <p>
                В JavaScript есть два ограничения, касающиеся имён переменных:
                <ol>
                    <li>
                        Имя переменной должно содержать только буквы, цифры или символы $ и _.
                    </li>
                    <li>
                        Первый символ не должен быть цифрой.
                    </li>
                </ol>
                Примеры допустимых имён:
                <pre class="code">

                    let userName;
                    let test123;
                </pre>
                Если имя содержит несколько слов, обычно используется верблюжья нотация, то есть, слова следуют одно за другим, 
                где каждое следующее слово начинается с заглавной буквы: <span class="code">myVeryLongName</span>. <br>
                Самое интересное – знак доллара '$' и подчёркивание '_' также можно использовать в названиях. Это обычные символы, как и буквы, 
                без какого-либо особого значения. <br><br>
                Эти имена являются допустимыми:
                <pre class="code">
                    
                    let $ = 1; // объявили переменную с именем "$"
                    let _ = 2; // а теперь переменную с именем "_"
                    alert($ + _); // 3;
                </pre>
                Примеры неправильных имён переменных:
                <pre class="code">

                    let 1a; // не может начинаться с цифры
                    let my-name; // дефис '-' не разрешён в имени
                </pre>
            </p>
        </div>
    </div>
    <footer style="min-height: 150px;"></footer>
    <script src="../../../bootstrap-5.1.3-dist/js/bootstrap.min.js"></script>
</body>