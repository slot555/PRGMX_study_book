<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprint 3. Lesson 30</title>
    <link rel="stylesheet" type="text/css" href="../../../css/pages_style.css">
    <link rel="stylesheet" href="../../../bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/lesson_css.css">
    <script type="text/javascript" src="../../../js/menu.js"></script>
</head>
<body>
    <div id="lesson_menu_bootsrap"></div>
    <div class="header">
        <div class="header-inner">
            <h1 id="l30_p0">Lesson 30: JS. Type conversion.</h1>
        </div>
    </div>
    <a href="#l30_p0" class="move_up_arrow"></a>
    <div class="container">
        <div class="inner_content">
            <h4>Содержание:</h4>
            <ul>
                <li><a href="#l30_p1">Типы данных</a></li>
                <li><a href="#l30_p2">Число</a></li>
                <li><a href="#l30_p3">BigInt</a></li>
                <li><a href="#l30_p4">Строка</a></li>
                <li><a href="#l30_p5">Булевый (логический) тип</a></li>
                <li><a href="#l30_p6">Значение «null»</a></li>
                <li><a href="#l30_p7">Значение «undefined»</a></li>
                <li><a href="#l30_p8">Объекты и символы</a></li>
                <li><a href="#l30_p9">Оператор typeof</a></li>
                <li><a href="#l30_p10">Итого</a></li>
                <li><a href="#l30_p11">Преобразование типов</a></li>
                <li><a href="#l30_p12">Строковое преобразование</a></li>


                

                
                
                


                

               
                <!-- <ul>
                    <li><a href="#l30_p7_1">Тег «script»</a></li>
                </ul> -->
            </ul>
            <hr>
            <h3 id="l30_p1">Типы данных</h3>
            <p>
                Значение в JavaScript всегда относится к данным определённого типа. Например, это может быть строка или число. <br>
                Есть восемь основных типов данных в JavaScript. В этой главе мы рассмотрим их в общем, а в следующих главах поговорим 
                подробнее о каждом. <br>
                Переменная в JavaScript может содержать любые данные. В один момент там может быть строка, а в другой – число:
                <pre class="code">

                    // Не будет ошибкой
                    let message = "hello";
                    message = 123456;
                </pre>
                Языки программирования, в которых такое возможно, называются «динамически типизированными». Это значит, что типы данных есть, 
                но переменные не привязаны ни к одному из них.
            </p>
            <hr>
            <h3 id="l30_p2">Число</h3>
            <p>
                Числовой тип данных (number) представляет как целочисленные значения, так и числа с плавающей точкой.
                <pre class="code">

                    let n = 123;
                    n = 12.345;
                </pre>
                Существует множество операций для чисел, например, умножение *, деление /, сложение +, вычитание - и так далее. <br>
                Кроме обычных чисел, существуют так называемые «специальные числовые значения», которые относятся к этому типу данных: 
                <span class="code">Infinity, -Infinity и NaN</span>.
                <ul>
                    <li>
                        <span class="code">Infinity</span> представляет собой математическую бесконечность ∞. Это особое значение, которое 
                        больше любого числа. <br>
                        Мы можем получить его в результате деления на ноль:
                        <pre class="code">

                            alert( 1 / 0 ); // Infinity
                        </pre>
                        Или задать его явно:
                        <pre class="code">

                            alert( Infinity ); // Infinity
                        </pre>
                    </li>
                    <li>
                        NaN означает вычислительную ошибку. Это результат неправильной или неопределённой математической операции, например:
                        <pre class="code">
                            
                            alert( "не число" / 2 ); // NaN, такое деление является ошибкой
                        </pre>
                        Значение NaN «прилипчиво». Любая операция с NaN возвращает NaN:
                        <pre class="code">
                            
                            alert( "не число" / 2 + 5 ); // NaN
                        </pre>
                        Если где-то в математическом выражении есть NaN, то результатом вычислений с его участием будет NaN.
                    </li>
                </ul>
            </p>
            <p>
                Математические операции – безопасны <br>
                Математические операции в JavaScript «безопасны». Мы можем делать что угодно: делить на ноль, обращаться с нечисловыми 
                строками как с числами и т.д. <br>
                Скрипт никогда не остановится с фатальной ошибкой (не «умрёт»). В худшем случае мы получим NaN как результат выполнения. <br>
                Специальные числовые значения относятся к типу «число». Конечно, это не числа в привычном значении этого слова. <br>
                Подробнее о работе с числами мы поговорим в главе Числа.
            </p>
            <hr>
            <h3 id="l30_p3">BigInt</h3>
            <p>
                В JavaScript тип «number» не может содержать числа больше, чем <b>(2<sup>53</sup>-1) (т. е. 9007199254740991)</b>, или меньше, чем 
                <b>-(2 <sup>53</sup>-1)</b> для отрицательных чисел. Это техническое ограничение вызвано их внутренним представлением. <br>
                Для большинства случаев этого достаточно. Но иногда нам нужны действительно гигантские числа, например, в криптографии или 
                при использовании метки времени («timestamp») с микросекундами. <br>
                Тип <b>BigInt</b> был добавлен в <b>JavaScript</b>, чтобы дать возможность работать с целыми числами произвольной длины. <br><br>
                Чтобы создать значение типа <b>BigInt</b>, необходимо добавить <b>n</b> в конец числового литерала:
                <pre class="code">

                    // символ "n" в конце означает, что это BigInt
                    const bigInt = 1234567890123456789012345678901234567890n;
                </pre>
                Так как BigInt-числа нужны достаточно редко, мы рассмотрим их в отдельной главе 
                <a href="https://learn.javascript.ru/bigint">BigInt</a>. <br><br>
                Поддержка <br>
                В данный момент BigInt поддерживается только в браузерах Firefox, Chrome, Edge и Safari, но не поддерживается в IE.
            </p>
            <hr>
            <h3 id="l30_p4">Строка</h3>
            <p>
                Строка (string) в JavaScript должна быть заключена в кавычки.
                <pre class="code">
                    let str = "Привет";
                    let str2 = 'Одинарные кавычки тоже подойдут';
                    let phrase = `Обратные кавычки позволяют встраивать переменные ${str}`;
                </pre>
                В JavaScript существует три типа кавычек.
                <ul>
                    <li>Двойные кавычки: "Привет".</li>
                    <li>Одинарные кавычки: 'Привет'.</li>
                    <li>Обратные кавычки: `Привет`.</li>
                </ul>
                Двойные или одинарные кавычки являются «простыми», между ними нет разницы в JavaScript. <br>
                Обратные же кавычки имеют расширенную функциональность. Они позволяют нам встраивать выражения в строку, заключая их в <b>${…}</b>. Например:
                <pre class="code">

                    let name = "Иван";

                    // Вставим переменную
                    alert( `Привет, ${name}!` ); // Привет, Иван!

                    // Вставим выражение
                    alert( `результат: ${1 + 2}` ); // результат: 3
                </pre>
                Выражение внутри <b>${…}</b> вычисляется, и его результат становится частью строки. Мы можем положить туда всё, что угодно: переменную <b>name</b>, 
                или выражение <b>1 + 2</b>, или что-то более сложное. <br><br>
                Обратите внимание, что это можно делать только в обратных кавычках. Другие кавычки не имеют такой функциональности встраивания!
                <pre class="code">

                    alert( "результат: ${1 + 2}" ); // результат: ${1 + 2} (двойные кавычки ничего не делают)
                </pre>
                Более подробно в статье <a href="https://learn.javascript.ru/string" target="_blank">Строки</a>. <br><br>
                Нет отдельного типа данных для одного символа. <br>
                В некоторых языках, например C и Java, для хранения одного символа, например "a" или "%", существует отдельный тип. В языках C и Java это char. <br>
                В JavaScript подобного типа нет, есть только тип string. Строка может содержать ноль символов (быть пустой), один символ или множество.
            </p>
            <hr>
            <h3 id="l30_p5">Булевый (логический) тип</h3>
            <p>
                Булевый тип (boolean) может принимать только два значения: true (истина) и false (ложь). <br>
                Такой тип, как правило, используется для хранения значений да/нет: true значит «да, правильно», а false значит «нет, не правильно». <br>
                Например:
                <pre class="code">

                    let nameFieldChecked = true; // да, поле отмечено
                    let ageFieldChecked = false; // нет, поле не отмечено
                </pre>
                Булевые значения также могут быть результатом сравнений:
                <pre class="code">

                    let isGreater = 4 > 1;
                    alert( isGreater ); // true (результатом сравнения будет "да")
                </pre>
                Более подробно в статье <a href="https://learn.javascript.ru/logical-operators">Логические операторы</a>.
            </p>
            <hr>
            <h3 id="l30_p6">Значение «null»</h3>
            <p>
                Специальное значение null не относится ни к одному из типов, описанных выше. <br>
                Оно формирует отдельный тип, который содержит только значение null:
                <pre class="code">

                    let age = null;
                </pre>
                В JavaScript null не является «ссылкой на несуществующий объект» или «нулевым указателем», как в некоторых других языках. <br>
                Это просто специальное значение, которое представляет собой «ничего», «пусто» или «значение неизвестно». <br>
                В приведённом выше коде указано, что значение переменной age неизвестно.
            </p>
            <hr>
            <h3 id="l30_p7">Значение «undefined»</h3>
            <p>
                Специальное значение undefined также стоит особняком. Оно формирует тип из самого себя так же, как и null. <br>
                Оно означает, что «значение не было присвоено». <br>
                Если переменная объявлена, но ей не присвоено никакого значения, то её значением будет undefined:
                <pre class="code">

                    let age;
                    alert(age); // выведет "undefined"
                </pre>
                Технически мы можем присвоить значение undefined любой переменной:
                <pre class="code">

                    let age = 123;
                    
                    // изменяем значение на undefined
                    age = undefined;

                    alert(age); // "undefined"
                </pre>
                …Но так делать не рекомендуется. Обычно null используется для присвоения переменной «пустого» или «неизвестного» значения, а undefined – для проверок, 
                была ли переменная назначена.
            </p>
            <hr>
            <h3 id="l30_p8">Объекты и символы</h3>
            <p>
                Тип <b>object (объект)</b> – особенный. <br><br>
                Все остальные типы называются «примитивными», потому что их значениями могут быть только простые значения (будь то строка, или число, или что-то ещё). 
                В объектах же хранят коллекции данных или более сложные структуры. <br>
                Объекты занимают важное место в языке и требуют особого внимания. Мы разберёмся с ними позже. <br><br>
                Тип <b>symbol (символ)</b> используется для создания уникальных идентификаторов в объектах. Мы упоминаем здесь о нём для полноты картины, изучим этот тип 
                тоже позже.
            </p>
            <hr>
            <h3 id="l30_p9">Оператор typeof</h3>
            <p>
                Оператор typeof возвращает тип аргумента. Это полезно, когда мы хотим обрабатывать значения различных типов по-разному или просто хотим сделать проверку. <br>
                У него есть две синтаксические формы:
                <ul>
                    <li>Синтаксис оператора: typeof x.</li>
                    <li>Синтаксис функции: typeof(x).</li>
                </ul>
                Другими словами, он работает со скобками или без скобок. Результат одинаковый. <br>
                Вызов <b>typeof x</b> возвращает строку с именем типа:
                <pre class="code">

                    typeof undefined // "undefined"

                    typeof 0 // "number"

                    typeof 10n // "bigint"

                    typeof true // "boolean"

                    typeof "foo" // "string"

                    typeof Symbol("id") // "symbol"

                    typeof Math // "object"  (1)

                    typeof null // "object"  (2)

                    typeof alert // "function"  (3)
                </pre>
                Последние три строки нуждаются в пояснении:
                <ol>
                    <li>
                        Math — это встроенный объект, который предоставляет математические операции и константы. Здесь он служит лишь примером объекта.
                    </li>
                    <li>
                        Результатом вызова typeof null является "object". Это официально признанная ошибка в typeof, ведущая начало с времён создания 
                        JavaScript и сохранённая для совместимости. Конечно, null не является объектом. Это специальное значение с отдельным типом.
                    </li>
                    <li>
                        Вызов typeof alert возвращает "function", потому что alert является функцией. Мы изучим функции в следующих главах, где заодно увидим, 
                        что в JavaScript нет специального типа «функция». Функции относятся к объектному типу. Но typeof обрабатывает их особым образом, 
                        возвращая "function". Так тоже повелось от создания JavaScript. Формально это неверно, но может быть удобным на практике.
                    </li>
                </ol>
            </p>
            <hr>
            <h3 id="l30_p10">Итого</h3>
            <p>
                В JavaScript есть 8 основных типов.
                <ol>
                    <li>number для любых чисел: целочисленных или чисел с плавающей точкой; целочисленные значения ограничены диапазоном ±(253-1).</li>
                    <li>bigint для целых чисел произвольной длины.</li>
                    <li>string для строк. Строка может содержать ноль или больше символов, нет отдельного символьного типа.</li>
                    <li>boolean для true/false.</li>
                    <li>null для неизвестных значений – отдельный тип, имеющий одно значение null.</li>
                    <li>undefined для неприсвоенных значений – отдельный тип, имеющий одно значение undefined.</li>
                    <li>object для более сложных структур данных.</li>
                    <li>symbol для уникальных идентификаторов.</li>
                </ol>
                Оператор typeof позволяет нам увидеть, какой тип данных сохранён в переменной.
                <ul>
                    <li>Имеет две формы: typeof x или typeof(x).</li>
                    <li>Возвращает строку с именем типа. Например, "string".</li>
                    <li>Для null возвращается "object" – это ошибка в языке, на самом деле это не объект.</li>
                </ul>
            </p>
            <hr>
            <h3 id="l30_p11">Преобразование типов</h3>
            <p>
                Чаще всего операторы и функции автоматически приводят переданные им значения к нужному типу. <br>
                Например, alert автоматически преобразует любое значение к строке. Математические операторы преобразуют значения к числам. <br>
                Есть также случаи, когда нам нужно явно преобразовать значение в ожидаемый тип. <br>
                Пока что мы не говорим об объектах <br>
                В этой главе мы не касаемся объектов. Сначала мы разберём преобразование примитивных значений. Мы разберём преобразование объектов позже, 
                подробнее в <a href="https://learn.javascript.ru/object-toprimitive">Преобразование объектов в примитивы</a>.
            </p>
            <hr>
            <h3 id="l30_p12">Строковое преобразование</h3>
            <p>
                Строковое преобразование происходит, когда требуется представление чего-либо в виде строки. <br>
                Например, alert(value) преобразует значение к строке. <br>
                Также мы можем использовать функцию String(value), чтобы преобразовать значение к строке:
                <pre class="code">

                    let value = true;
                    alert(typeof value); // boolean

                    value = String(value); // теперь value это строка "true"
                    alert(typeof value); // string
                </pre>
                Преобразование происходит очевидным образом. false становится "false", null становится "null" и т.п.
            </p>

            
            





            
            

            





            
            
        </div>
    </div>
    <footer style="min-height: 150px;"></footer>
    <script src="../../../bootstrap-5.1.3-dist/js/bootstrap.min.js"></script>
</body>